<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMILI UI</title>
    <link rel="stylesheet" href="main_layout.css">
</head>
<body>
    <div class="main-container">
        <!-- Top Row -->
        <div class="top-row">
            <!-- Left Section -->
            <div class="left-section">
                <!-- Hierarchy Inspector -->
                <div class="panel hierarchy-panel">
                    <iframe src="hierarchy_inspector.html"></iframe>
                </div>
            </div>

            <!-- Vertical Splitter 1 (between Hierarchy and Viewport) -->
            <div class="splitter splitter-vertical" data-direction="horizontal"></div>
            
            <!-- Center Section -->
            <div class="center-section">
                <!-- Viewport (OpenGL overlay will be positioned here) -->
                <div class="panel viewport-panel">
                    <iframe src="Viewport_docking.html"></iframe>
                </div>
            </div>

            <!-- Vertical Splitter 2 (between Center and Right) -->
            <div class="splitter splitter-vertical" data-direction="horizontal"></div>
            
            <!-- Right Section -->
            <div class="right-section">
                <!-- Object Inspector -->
                <div class="panel object-inspector-panel">
                    <iframe src="object_inspector.html"></iframe>
                </div>
                
                <!-- Right Horizontal Splitter (between Inspector and History) -->
                <div class="splitter splitter-horizontal" data-direction="vertical"></div>
                
                <!-- History Logger -->
                <div class="panel history-panel">
                    <iframe src="history_logger.html"></iframe>
                </div>
            </div>
        </div>
        
        <!-- Horizontal Splitter (between top row and project viewer) -->
        <div class="splitter splitter-horizontal" data-direction="vertical"></div>
        
        <!-- Project Viewer (full width at bottom) -->
        <div class="panel project-viewer-panel">
            <iframe src="project_viewer.html"></iframe>
        </div>
    </div>

    <script src="layout_resizer.js"></script>
    <script>
        // Test HTTP Server connection with ping-pong
        window.addEventListener('DOMContentLoaded', () => {
            // Send POST request with message to server
            fetch('http://localhost:8080', {
                method: 'POST',
                headers: {
                    'Content-Type': 'text/plain'
                },
                body: 'hello from javascript test test test'
            })
                .then(response => response.json())
                .then(data => {
                    if (data && data.message) {
                        console.log('[MainLayout] Received response from server:', data.message);
                    }
                })
                .catch(error => {
                    console.error('[MainLayout] Failed to connect to server:', error);
                });
        });
    </script>
</body>
</html>
